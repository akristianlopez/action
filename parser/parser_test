package parser
import (
	"testing"
)

type testCase struct {
	name     string
	src   string
	status int
}

func build_args() []testCase{
	res:=make([]testCase,0)
	res=append(res,{
		name:"Test 1 : Let statement",
		src:`action "Check the let statement"
			 start
			 	let a, b, c
			 stop
			 `,
		status:1
		})
	res=append(res,{
		name:"Test 1 : Let statement",
		src:`action "Check the let statement"
			 start
			 	let a :integer=0, b=1.0, c="my golang"
			 stop
			 `,
		status:0
		})
	res=append(res,{
		name:"Test 1 : Let statement",
		src:`action "Check the let statement"
			 let a :integer=0, b=1.0, c="my golang"
			 start
			 	let a = 5; let b = 10; let c = a + b;
			 stop
			 `,
		status:0
		})
	res=append(res,{
		name:"Test 2: Check the definition of the structure",
		src:`action "Check the definition of the user's type statement"
			type Employe struct {
				id : integer(5)[1..99999],
				nom : string(50),
				salaire : float(6,2)[0..100000],
				actif : boolean,
				date_embauche : date
			}
			type Student struct{
				id : integer(10)[1..9999999999],
				nom : string(150),
				prenom:string(250),
				code : string(8),
				sexe: string(1)
			}
			type Commande struct{
				id: integer,
				type: string,
				montant: float
			}
			start
				let employe : Employe
				let student : Student
				let commande: Commande
			stop
			 `,
		status:0
		})
	res=append(res,{
		name:"Test 3: Check function declaration",
		src:`action "Check a function definition's statement"
			type Employe struct {
				id : integer(5)[1..99999],
				nom : string(50),
				salaire : float(6,2)[0..100000],
				actif : boolean,
				date_embauche : date
			}
			(* DÃ©claration des fonctions *)
			function calculerBonus(salaire: float, performance: integer) : float {
				let bonus = salaire * (performance / 100.0);
				return bonus;
			}
			start
				let result=calculerBonus(105000.5,100)
				return result
			stop
			 `,
		status:0
		})
	return res;
}
func TestParseProgram(t *testing.T) {
	var hasError bool
	lex := new(Lexer)
	for _, tc := range build_args() {
		
	}
	
}
func main(){

}